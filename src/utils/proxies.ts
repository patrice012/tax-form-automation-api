import logger from "./logger";

// const proxies = [
//   "38.154.227.234:5935",
//   "179.61.166.248:6671",
//   "104.238.38.124:6392",
//   "146.103.44.84:6636",
//   "148.135.179.171:6230",
//   "23.27.75.214:6294",
//   "166.88.238.135:6115",
//   "104.239.124.109:6387",
//   "38.170.190.166:9517",
//   "142.111.131.125:6203",
//   "148.135.151.76:5569",
//   "148.135.179.89:6148",
//   "154.29.87.157:6578",
//   "31.57.85.136:5822",
//   "31.59.13.172:6442",
//   "216.74.115.133:6727",
//   "185.216.107.51:5628",
//   "136.0.220.60:5440",
//   "216.45.62.68:6087",
//   "2.57.20.157:6149",
//   "154.6.83.110:6581",
//   "166.88.224.32:5930",
//   "31.58.10.122:6090",
//   "146.103.55.147:6199",
//   "166.88.195.242:5874",
//   "38.170.163.146:8202",
//   "64.64.118.30:6613",
//   "136.0.194.230:6967",
//   "45.41.160.169:6151",
//   "198.23.128.115:5743",
//   "216.173.84.31:5946",
//   "166.88.195.39:5671",
//   "92.113.242.241:6825",
//   "185.216.107.235:5812",
//   "209.127.143.139:8238",
//   "179.61.166.90:6513",
//   "154.29.65.80:6188",
//   "38.170.163.118:8174",
//   "148.135.179.92:6151",
//   "38.154.227.185:5886",
//   "23.26.71.229:5712",
//   "206.206.119.109:6020",
//   "148.135.179.95:6154",
//   "192.177.86.20:5021",
//   "173.214.176.5:5976",
//   "45.61.124.196:6525",
//   "136.0.117.230:6968",
//   "107.174.194.210:5652",
//   "146.103.55.226:6278",
//   "199.180.11.107:6844",
//   "103.251.223.80:6059",
//   "107.174.194.67:5509",
//   "146.103.5.126:6706",
//   "191.96.254.69:6116",
//   "92.113.237.26:7110",
//   "142.147.131.24:5924",
//   "154.6.11.45:5514",
//   "92.113.241.194:6279",
//   "31.57.87.162:5847",
//   "31.58.21.99:6370",
//   "38.154.197.114:6780",
//   "23.236.247.107:8139",
//   "45.115.195.202:6180",
//   "154.6.129.47:5517",
//   "142.111.161.103:6474",
//   "38.170.157.234:9273",
//   "45.127.248.171:5172",
//   "67.227.113.90:5630",
//   "89.249.198.67:6153",
//   "67.227.112.51:6091",
//   "204.44.92.180:8210",
//   "31.59.18.5:6586",
//   "50.114.15.14:5999",
//   "108.165.87.63:6526",
//   "67.227.37.2:5544",
//   "107.173.93.153:6107",
//   "136.0.118.220:6592",
//   "216.45.62.18:6037",
//   "104.232.209.67:6025",
//   "69.12.93.226:6246",
//   "154.6.83.76:6547",
//   "204.44.69.235:6488",
//   "145.223.55.5:7052",
//   "50.114.15.25:6010",
//   "38.170.162.117:7172",
//   "208.70.11.102:6183",
//   "206.206.119.205:6116",
//   "191.101.181.203:6956",
//   "67.227.14.253:6845",
//   "142.111.1.127:5159",
//   "145.223.62.15:6076",
//   "148.135.254.28:6075",
//   "154.6.129.93:5563",
//   "107.172.163.122:6638",
//   "204.44.92.235:8265",
//   "142.111.131.163:6241",
//   "216.173.84.93:6008",
//   "67.227.14.59:6651",
//   "38.170.190.112:9463",
//   "107.172.116.23:5479",
//   "104.168.118.202:6158",
//   "166.88.224.113:6011",
//   "154.6.87.96:6566",
//   "46.202.59.197:5688",
//   "154.29.239.181:6220",
//   "208.70.11.238:6319",
//   "89.249.198.24:6110",
//   "38.170.162.61:7116",
//   "192.210.191.101:6087",
//   "64.64.118.93:6676",
//   "198.37.118.55:5514",
//   "23.27.93.59:5638",
//   "104.168.8.44:5497",
//   "67.227.36.134:6176",
//   "23.27.93.38:5617",
//   "154.6.127.96:5567",
//   "142.111.1.117:5149",
//   "173.244.41.27:6211",
//   "184.174.43.184:6724",
//   "191.101.25.231:6628",
//   "198.23.128.214:5842",
//   "104.168.25.210:5892",
//   "136.0.109.122:6408",
//   "148.135.151.139:5632",
//   "173.211.69.103:6696",
//   "67.227.14.169:6761",
//   "31.58.20.67:5751",
//   "23.26.94.44:6026",
//   "198.46.246.223:6847",
//   "45.56.173.75:6058",
//   "23.236.247.46:8078",
//   "66.78.34.25:5644",
//   "207.244.218.192:5800",
//   "206.206.69.219:6483",
//   "198.23.128.3:5631",
//   "50.114.15.149:6134",
//   "31.59.18.31:6612",
//   "64.64.118.51:6634",
//   "184.174.126.123:6415",
//   "23.26.71.142:5625",
//   "191.96.202.65:6111",
//   "192.210.191.38:6024",
//   "146.103.4.145:6692",
//   "46.202.67.40:6036",
//   "67.227.42.243:6220",
//   "185.216.107.73:5650",
//   "38.154.197.137:6803",
//   "142.111.131.109:6187",
//   "173.245.88.137:5440",
//   "166.88.235.71:5699",
//   "136.0.117.77:6815",
//   "154.6.83.169:6640",
//   "23.26.95.182:5664",
//   "191.96.104.50:5787",
//   "142.111.239.45:5623",
//   "136.0.220.69:5449",
//   "198.55.103.15:5534",
//   "38.154.227.65:5766",
//   "107.172.116.214:5670",
//   "204.44.108.56:6077",
//   "23.236.247.145:8177",
//   "67.227.37.42:5584",
//   "216.173.84.219:6134",
//   "23.236.247.243:8275",
//   "67.227.37.239:5781",
//   "92.113.139.25:5977",
//   "191.96.104.227:5964",
//   "23.26.68.155:6138",
//   "198.37.106.61:6520",
//   "46.202.224.239:5791",
//   "148.135.254.108:6155",
//   "31.58.21.239:6510",
//   "146.103.5.88:6668",
//   "192.210.132.150:6120",
//   "45.81.149.106:6538",
//   "23.27.93.99:5678",
//   "38.170.163.231:8287",
//   "104.168.118.187:6143",
//   "107.172.116.176:5632",
//   "136.0.118.5:6377",
//   "192.3.48.60:6053",
//   "146.103.44.184:6736",
//   "148.135.151.180:5673",
//   "107.172.116.60:5516",
//   "142.111.255.82:5371",
//   "154.29.65.222:6330",
//   "198.37.106.17:6476",
//   "146.103.5.112:6692",
//   "2.57.21.203:5695",
//   "67.227.36.211:6253",
//   "38.170.163.5:8061",
//   "46.202.224.70:5622",
//   "191.96.202.235:6281",
//   "154.29.65.228:6336",
//   "154.6.128.177:6147",
//   "142.111.239.206:5784",
//   "107.175.56.136:6409",
//   "185.202.175.3:6791",
//   "191.101.181.143:6896",
//   "46.202.78.248:5743",
//   "45.249.59.222:6198",
//   "216.173.84.99:6014",
//   "23.27.203.19:6754",
//   "64.64.110.84:6607",
//   "103.251.223.179:6158",
//   "45.41.160.152:6134",
//   "166.88.63.19:5391",
//   "45.61.124.185:6514",
//   "198.55.103.76:5595",
//   "166.88.238.36:6016",
//   "145.223.55.53:7100",
//   "45.41.160.216:6198",
//   "198.55.103.47:5566",
//   "104.168.25.97:5779",
//   "204.44.121.161:6414",
//   "45.115.195.241:6219",
//   "198.37.118.168:5627",
//   "92.113.241.104:6189",
//   "31.58.19.190:6462",
//   "31.58.26.189:6772",
//   "38.170.162.82:7137",
//   "2.57.20.187:6179",
//   "64.64.110.30:6553",
//   "146.103.4.148:6695",
//   "145.223.62.103:6164",
//   "104.232.209.225:6183",
//   "184.174.126.124:6416",
//   "192.210.191.20:6006",
//   "208.70.11.235:6316",
//   "136.0.109.231:6517",
//   "45.41.160.31:6013",
//   "173.245.88.168:5471",
//   "67.227.42.61:6038",
//   "104.168.25.70:5752",
//   "45.61.124.87:6416",
//   "148.135.179.59:6118",
//   "69.12.93.47:6067",
//   "107.175.119.236:6764",
//   "198.37.116.93:6052",
//   "31.58.21.114:6385",
//   "136.0.194.210:6947",
//   "191.96.202.147:6193",
//   "38.154.197.248:6914",
//   "145.223.62.243:6304",
//   "66.78.34.179:5798",
//   "69.12.93.49:6069",
//   "23.27.91.136:6215",
//   "38.154.197.185:6851",
//   "142.111.131.84:6162",
//   "108.165.87.140:6603",
// ];

const proxies = ["107.175.119.11:6539", "179.61.166.11:6434"];
export function getProxies() {
  return proxies;
}

export function getProxyURL(proxy: string) {
  const proxyParts = proxy.split(":");
  const proxyIp = proxyParts[0];
  const proxyPort = proxyParts[1];
  const proxyUrl = `${proxyIp}:${proxyPort}`;

  logger.info(`Using proxy: ${proxyUrl}`);
  return proxyUrl;
}

export const getRandomProxy = () => {
  let lastRandomIndex = -1;

  function getRandomItem(arr: string[]) {
    let randomIndex;

    // Ensure the new random index is different from the last one
    do {
      randomIndex = Math.floor(Math.random() * arr.length);
    } while (randomIndex === lastRandomIndex && arr.length > 1);

    // Update the last random index
    lastRandomIndex = randomIndex;

    // Return the item at the random index
    return arr[randomIndex];
  }

  const proxy = getRandomItem(getProxies());
  return getProxyURL(proxy);
};
